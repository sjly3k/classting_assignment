[{"/Users/lsj_macbook/frontend-test/classting_assignment/src/index.js":"1","/Users/lsj_macbook/frontend-test/classting_assignment/src/App.js":"2","/Users/lsj_macbook/frontend-test/classting_assignment/src/config/fbConfig.js":"3","/Users/lsj_macbook/frontend-test/classting_assignment/src/components/VoteItemList.js":"4","/Users/lsj_macbook/frontend-test/classting_assignment/src/store/modules/index.js":"5","/Users/lsj_macbook/frontend-test/classting_assignment/src/store/modules/votes.js":"6","/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Item.js":"7","/Users/lsj_macbook/frontend-test/classting_assignment/src/components/NewItem.js":"8","/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Input.js":"9","/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Button.js":"10","/Users/lsj_macbook/frontend-test/classting_assignment/src/styles/globalStyles.js":"11","/Users/lsj_macbook/frontend-test/classting_assignment/src/store/modules/auth.js":"12","/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Authentication.js":"13","/Users/lsj_macbook/frontend-test/classting_assignment/src/utils/localStorage.js":"14","/Users/lsj_macbook/frontend-test/classting_assignment/src/components/MakeModal.js":"15"},{"size":1121,"mtime":1612371928068,"results":"16","hashOfConfig":"17"},{"size":628,"mtime":1612364778730,"results":"18","hashOfConfig":"17"},{"size":517,"mtime":1612251064939,"results":"19","hashOfConfig":"17"},{"size":5811,"mtime":1612376200891,"results":"20","hashOfConfig":"17"},{"size":312,"mtime":1612362924011,"results":"21","hashOfConfig":"17"},{"size":4817,"mtime":1612373576395,"results":"22","hashOfConfig":"17"},{"size":3502,"mtime":1612376927304,"results":"23","hashOfConfig":"17"},{"size":1775,"mtime":1612360464107,"results":"24","hashOfConfig":"17"},{"size":546,"mtime":1612355463681,"results":"25","hashOfConfig":"17"},{"size":951,"mtime":1612370089420,"results":"26","hashOfConfig":"17"},{"size":695,"mtime":1612331128979,"results":"27","hashOfConfig":"17"},{"size":2721,"mtime":1612371905958,"results":"28","hashOfConfig":"17"},{"size":4652,"mtime":1612372012444,"results":"29","hashOfConfig":"17"},{"size":938,"mtime":1612373719429,"results":"30","hashOfConfig":"17"},{"size":1156,"mtime":1612376940083,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1895x3r",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/lsj_macbook/frontend-test/classting_assignment/src/index.js",[],["64","65"],"/Users/lsj_macbook/frontend-test/classting_assignment/src/App.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/config/fbConfig.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/components/VoteItemList.js",["66","67","68"],"import React, {useState, useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport {firestoreConnect} from \"react-redux-firebase\";\nimport { getVotes, addVote, removeVote, updateVote, countVoting } from \"../store/modules/votes\"\nimport Item from \"./Item\";\nimport NewItem from \"./NewItem\";\nimport styled from \"styled-components\";\nimport {Redirect} from \"react-router-dom\";\nimport {signOut} from \"../store/modules/auth\";\nimport {addSavedVote, getStorage, removeSavedVote} from \"../utils/localStorage\";\n\nconst VoteItemList = props => {\n\n\tconst { getVotes, countVoting, votes, auth } = props;\n\tconst [state, setState] = useState({\n\t\tquestion : '',\n\t\toptions : [{}, {}, {}],\n\t\tstartDate : '',\n\t\tendDate : '',\n\t})\n\t// TO-DO : Modal로 투표 결과 보여주기, 종료시간이 지난 투표는 클릭 못하게, 투표 항목 이름 변경\n\tconst [isEditQuestion, setIsEditQuestion] = useState(false);\n\tconst currentTime = Date.now();\n\n\tconsole.log(auth)\n\tuseEffect(() => {\n\t\tgetVotes();\n\t}, [getVotes, countVoting])\n\n\tconst handleInputChange = (i=null) => (e) => {\n\t\tconst value = e.target.value;\n\t\tconst name = e.target.name;\n\n\t\tconsole.log(i, value, name)\n\t\tif (name === `option-${i + 1}`) {\n\t\t\tlet options = [...state.options];\n\t\t\toptions[i] = value;\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\toptions\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\t[name]: value\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleRemove = (e) => {\n\t\te.preventDefault()\n\t\tconst id = e.target.id\n\t\tprops.removeVote(id);\n\t}\n\n\tconst handleUpdate = (e) => {\n\t\tconsole.log(e.target.id)\n\t\tconst id = e.target.id;\n\t\tconst input = e.target.input;\n\n\t\tprops.updateVote(id, \"Change 5\")\n\t}\n\n\tconst handleAddOption = e => {\n\t\te.preventDefault();\n\t\tsetState({\n\t\t\toptions: state.options.concat({})\n\t\t})\n\t}\n\n\tconst handleLogout = e => {\n\t\te.preventDefault();\n\t\tprops.signOut();\n\t}\n\n\tconst handleVoting = e => {\n\t\te.preventDefault();\n\t\tconst docId = e.target.id;\n\t\tconst optionId = parseInt(e.target.getAttribute('data-optionid'), 10);\n\n\t\tconst findVote = votes.find(vote => vote.id === docId);\n\t\tlet findIndex = false;\n\t\t// 이미 투표를 했는지 확인 -> 아직 투표를 안했다면 카운트 늘려서 옵션 반환\n\t\tif (findVote) {\n\t\t\tfindVote.options.forEach((option) => {\n\t\t\t\tconst index = option.voteUser.indexOf(auth.uid)\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\tfindIndex = true;\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t}\n\t\tif (findIndex === false) {\n\t\t\t\tconst newOption = findVote.options.map(option => {\n\t\t\t\t\tconsole.log(option, optionId, auth.uid, option.voteUser)\n\t\t\t\t\treturn (\n\t\t\t\t\t\toption.id === optionId ?\n\t\t\t\t\t\t\t{...option, voteUser : option.voteUser.concat(auth.uid)} : option\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t\tprops.countVoting(docId, newOption)\n\t\t\t}\n\t\t}\n\n\tconst handleAdd = (e) => {\n\t\te.preventDefault()\n\t\tprops.addVote({\n\t\t\tuser : {\n\t\t\t\tid : auth.uid,\n\t\t\t\temail : auth.email\n\t\t\t},\n\t\t\tquestion : \"Test Question 4\",\n\t\t\toptions : [{\n\t\t\t\t\tid : 1,\n\t\t\t\t\ttitle : \"Test Option 1\",\n\t\t\t\t\tvoteUser : [],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid : 2,\n\t\t\t\t\ttitle : \"Test Option 2\",\n\t\t\t\t\tvoteUser : [],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid : 3,\n\t\t\t\t\ttitle : \"Test Option 3\",\n\t\t\t\t\tvoteUser : [],\n\t\t\t\t}\n\t\t\t],\n\t\t\tstartDate : {\n\t\t\t\tnanoseconds: 0,\n\t\t\t\tseconds: Math.round(new Date().getTime() / 1000)\n\t\t\t},\n\t\t\tendDate : {\n\t\t\t\tnanoseconds : 0,\n\t\t\t\tseconds : Math.round(new Date().getTime() / 1000) + 100000\n\t\t\t},\n\t\t\tdescription : \"Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\"\n\t\t})\n\t}\n\n\tconst handleSave = (e) => {\n\t\te.preventDefault();\n\t\tconst id = e.target.id;\n\t\tconst newVote = votes.find(vote => vote.id === id);\n\t\tconst savedVote = getStorage(\"USER_SAVE_VOTE\");\n\t\tif (newVote) {\n\t\t\tif (savedVote.find(vote => vote.id === id)) {\n\t\t\t\tremoveSavedVote(newVote);\n\t\t\t} else {\n\t\t\t\taddSavedVote(newVote);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (!getStorage(\"USER_INFO\")) return <Redirect to={\"/auth\"}/>\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Header>\n\t\t\t\t<span onClick={handleLogout}>로그아웃</span>\n\t\t\t</Header>\n\t\t\t<VoteItemListWrapper>\n\t\t\t\t<NewItem\n\t\t\t\t\thandleInputChange={handleInputChange}\n\t\t\t\t\thandleAddOption={handleAddOption}\n\t\t\t\t\tquestion={state.question}\n\t\t\t\t\toptions={state.options}\n\t\t\t\t\thandleAdd={handleAdd}\n\t\t\t\t\tstartDate={state.startDate}\n\t\t\t\t\tendDate={state.endDate}\n\t\t\t\t/>\n\t\t\t\t<ItemList>\n\t\t\t\t{\n\t\t\t\t\tvotes && votes.length > 0 ?\n\t\t\t\t\t\tvotes.map(vote => {\n\t\t\t\t\t\t\tif (vote) return (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tvote={vote}\n\t\t\t\t\t\t\t\t\thandleRemove={handleRemove}\n\t\t\t\t\t\t\t\t\thandleUpdate={handleUpdate}\n\t\t\t\t\t\t\t\t\tcurrentUserId={auth.uid}\n\t\t\t\t\t\t\t\t\tcurrentTime={currentTime}\n\t\t\t\t\t\t\t\t\thandleVoting={handleVoting}\n\t\t\t\t\t\t\t\t\thandleSave={handleSave}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\telse return null;\n\t\t\t\t\t\t}) : <div>없다</div>\n\t\t\t\t}\n\t\t\t\t</ItemList>\n\t\t\t</VoteItemListWrapper>\n\t\t</React.Fragment>\n\t);\n};\n\nconst Header = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\theight: 60px;\n\t\n\tspan {\n\t\tbackground-color: cornflowerblue;\n\t\tmargin : 10px;\n\t\tpadding : 10px;\n\t\tborder-radius: 10px;\n\t\tcolor : white;\n\t}\n`\n\nconst VoteItemListWrapper = styled.div`\n\tmax-width: 1180px;\n\tmargin : 50px auto;\n\tdisplay : flex;\n\talign-items: center;\n\tflex-direction: column;\n`\n\nconst ItemList = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex : 0 0 25%;\n\tflex-wrap: wrap;\n\tmin-width: 420px;\n`\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tvotes : state.votes.votes,\n\t\tauth: state.firebase.auth,\n\t}\n}\n\nconst mapDispatchToProps = dispatch => ({\n\tgetVotes: () => dispatch(getVotes()),\n\tremoveVote: (id) => dispatch(removeVote(id)),\n\taddVote : (vote) => dispatch(addVote(vote)),\n\tupdateVote : (id, question) => dispatch(updateVote(id, question)),\n\tcountVoting : (docId, newOption) => dispatch(countVoting(docId, newOption)),\n\tsignOut : () => dispatch(signOut()),\n})\n\nexport default compose(\n\tfirestoreConnect([{collection : 'projects'}]),\n\tconnect(mapStateToProps, mapDispatchToProps)\n)(VoteItemList)","/Users/lsj_macbook/frontend-test/classting_assignment/src/store/modules/index.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/store/modules/votes.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Item.js",["69","70"],"/Users/lsj_macbook/frontend-test/classting_assignment/src/components/NewItem.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Input.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Button.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/styles/globalStyles.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/store/modules/auth.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/components/Authentication.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/utils/localStorage.js",[],"/Users/lsj_macbook/frontend-test/classting_assignment/src/components/MakeModal.js",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":23,"column":9,"nodeType":"77","messageId":"78","endLine":23,"endColumn":23},{"ruleId":"75","severity":1,"message":"79","line":23,"column":25,"nodeType":"77","messageId":"78","endLine":23,"endColumn":42},{"ruleId":"75","severity":1,"message":"80","line":61,"column":9,"nodeType":"77","messageId":"78","endLine":61,"endColumn":14},{"ruleId":"75","severity":1,"message":"81","line":5,"column":10,"nodeType":"77","messageId":"78","endLine":5,"endColumn":20},{"ruleId":"75","severity":1,"message":"82","line":7,"column":9,"nodeType":"77","messageId":"78","endLine":7,"endColumn":14},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'isEditQuestion' is assigned a value but never used.","Identifier","unusedVar","'setIsEditQuestion' is assigned a value but never used.","'input' is assigned a value but never used.","'makeStyles' is defined but never used.","'Modal' is defined but never used.","no-global-assign","no-unsafe-negation"]